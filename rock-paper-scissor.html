<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissor!</title>
    </head>
    <body>
        <script>   
          
        function game() {
            let playerScore = 0;
            let compScore = 0;
            for( i = 0; i < 5; i++ ) {
                let array = ["ROCK", "PAPER", "SCISSOR"];
                let playerPrompt = prompt("Rock, paper or scissor?");
                let playerSelection = playerPrompt.toUpperCase();
                let randomNum = Math.floor(Math.random() * 3);
                let computerSelection = array[randomNum];

                console.log(">>Player: " + playerSelection);
                console.log(">>Computer: " + computerSelection);      

                function playRound(playerSelection, computerSelection) {
                    let message;            
                    if (playerSelection !== "ROCK" && playerSelection !== "PAPER" && playerSelection !== "SCISSOR") {
                        message = "Invalid input";
                    } else if (playerSelection === computerSelection) {
                        message = "Draw! Nobody wins!";
                    } else if (((playerSelection === "ROCK") && (computerSelection === "SCISSOR")) || 
                             ((playerSelection === "SCISSOR") && (computerSelection === "PAPER")) || 
                             ((playerSelection === "PAPER") && (computerSelection === "ROCK"))) {
                        message = ("You win! " + playerSelection + " beats " + computerSelection);
                    } else {
                        message = ("You lose! " + computerSelection + " beats " + playerSelection );
                    }
                    return message;
                }
                console.log( playRound(playerSelection,computerSelection) );
                let result = ( playRound(playerSelection,computerSelection) ) ;
                if( result === "Draw! Nobody wins!" ) {
                    playerScore++ ;
                    compScore++ ;
                }
                if( result === ("You win! " + playerSelection + " beats " + computerSelection) ) {
                    playerScore += 3;
                }
                if( result === "You lose! " + computerSelection + " beats " + playerSelection ) {
                    compScore += 3;
                }
            }
            return ( "GAME OVER! Player: " + playerScore + " Computer: " + compScore );
        }

        console.log( game() );

        </script>
    </body>
</html>